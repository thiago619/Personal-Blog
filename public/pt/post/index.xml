<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Thiago Santos</title>
    <link>https://thiagosantos.blog/pt/post/</link>
    <description>Recent content in Posts on Thiago Santos</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt</language>
    <managingEditor>contato@thiagosantos.blog (Thiago Santos)</managingEditor>
    <webMaster>contato@thiagosantos.blog (Thiago Santos)</webMaster>
    <copyright>Thiago Santos</copyright>
    <lastBuildDate>Tue, 27 Aug 2024 12:56:36 -0300</lastBuildDate><atom:link href="https://thiagosantos.blog/pt/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Mais Mudancas No Blog</title>
      <link>https://thiagosantos.blog/pt/post/mais-mudancas-no-blog/</link>
      <pubDate>Tue, 27 Aug 2024 12:56:36 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/mais-mudancas-no-blog/</guid>
      <description>&lt;p&gt;Atualmente, este site utiliza php no backend, e os posts eu armazeno em um banco sqlite. Porém, eu estive pensando em simplificar o formato, pois este site tem apenas conteúdos estáticos, e essa parafernália toda é como matar uma mosca com canhão. Agora irei utilizar um gerador de páginas estáticas para organizar o conteúdo, e subir os arquivos quando tiver que atualizar algo. Terminando isso irei começar a internacionalizar a página.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Não Consegui Fazer Parte Do Nocss Club</title>
      <link>https://thiagosantos.blog/pt/post/nao-consegui-fazer-parte-do-nocss-club/</link>
      <pubDate>Tue, 13 Aug 2024 12:20:13 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/nao-consegui-fazer-parte-do-nocss-club/</guid>
      <description>&lt;p&gt;Há algum tempo eu estive planejando fazer parte do &lt;a href=&#34;https://nocss.club/&#34;&gt;No CSS Club&lt;/a&gt;. Mas um problema que eu encontrei e não consegui achar uma boa solução, é a &lt;a href=&#34;https://developer.mozilla.org/pt-BR/docs/Learn/CSS/CSS_layout/Responsive_Design&#34;&gt;responsividade&lt;/a&gt; das imagens.&lt;/p&gt;
&lt;p&gt;Sem &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Cascading_Style_Sheets&#34;&gt;CSS&lt;/a&gt; as imagens terão a largura original dela, o que pode estorar a tela. Uma solução(gambiarra) que eu pensei foi utilizar &lt;a href=&#34;https://www.w3.org/TR/html401/&#34;&gt;HTML4&lt;/a&gt;, mas aí minha página perderia um pouco da &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Acessibilidade&#34;&gt;acessibilidade&lt;/a&gt;. Ou também poderia deixar de usar imagens, mas se fizer isso, eu terei alguns posts que deixarão de fazer sentido. Então resolvi por enquanto deixar isso pra lá.&lt;/p&gt;
&lt;p&gt;Esta página já é bastante otimizada. As imagens são comprimidas, não tem &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/JavaScript&#34;&gt;javascript&lt;/a&gt;, é 100% funcional em um &lt;a href=&#34;https://en.wikipedia.org/wiki/Text-based_web_browser&#34;&gt;navegador text-only&lt;/a&gt; e em um &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Leitor_de_tela&#34;&gt;leitor de tela&lt;/a&gt;. Acredito que este site não precisa fazer parte disso. Além do mais, minha página é mais no-css do que muitas que fazem parte do grupo, pois algumas usam e abusam de CSS e javascript, mas quando vão se inscrever, passam o link de apenas uma página do site que não possui CSS. Minha página tem o CSS necessário, se você desativar os estilos, ou visualizá-la no modo texto, não verá diferença. Este site é leve não apenas por ser, mas porque meu objetivo é que ele seja acessível a qualquer pessoa independente da velocidade de internet, tecnologia ou outros. Acho que perder funcionalidade só por causa de uns &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Kilobyte&#34;&gt;kilobytes&lt;/a&gt; a menos não faz sentido.&lt;/p&gt;
&lt;p&gt;Mas eu não discarto a possibilidade de entrar no grupo, se eu encontrar uma maneira de deixar as imagens responsivas sem CSS, mas por enquanto, vou deixar do jeito que está.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Email Funcionando Normalmente</title>
      <link>https://thiagosantos.blog/pt/post/email-funcionando-normalmente/</link>
      <pubDate>Sun, 11 Aug 2024 12:16:13 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/email-funcionando-normalmente/</guid>
      <description>&lt;p&gt;Em 29 de julho os emails do blog ficaram fora devido à manutenção. Agora eles estão de volta.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bloqueando bots, IAs, spam e tráfego lixo do seu site</title>
      <link>https://thiagosantos.blog/pt/post/bloqueando-trafego-lixo/</link>
      <pubDate>Mon, 29 Jul 2024 11:58:25 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/bloqueando-trafego-lixo/</guid>
      <description>&lt;p&gt;Nem todo tipo de tráfego é legítimo. Muitos &lt;a href=&#34;https://wikipedia.org/wiki/Web_scraping&#34;&gt;scrappers&lt;/a&gt;, robôs, &lt;a href=&#34;https://pt.wikipedia.org/wiki/Intelig%C3%AAncia_artificial&#34;&gt;IAs&lt;/a&gt; entre outros acessam paginas aleatoriamente. Na melhor das hipóteses, eles só vão consumir recursos do seu &lt;a href=&#34;https://pt.wikipedia.org/wiki/Servidor&#34;&gt;servidor&lt;/a&gt;. Mas há tráfegos advindo de aplicações maliciosas que podem replicar seu conteúdo sem autorização, utilizá-lo para treinar IA, ou até mesmo realizar um um &lt;a href=&#34;https://pt.wikipedia.org/wiki/Ataque_de_nega%C3%A7%C3%A3o_de_servi%C3%A7o&#34;&gt;DOS&lt;/a&gt;. Para evitar que isso ocorra, é necessário bloquear acessos indesejados.&lt;/p&gt;
&lt;p&gt;Esse manual em forma de tutorial, não é recomendado para você que quer monetizar sua página, ou simplesmente receber cliques. Esse método bloqueia grande parte do acesso não humano, &lt;a href=&#34;https://pt.wikipedia.org/wiki/Motor_de_busca&#34;&gt;Search Engines&lt;/a&gt; e de curiosos. Se o seu objetivo é que apenas humanos interessados no seu conteúdo acessem sua página ok, mas se você quer farmar cliques, usar sua página para redirecionar produtos ou tráfego, talvez apenas a parte de bloquear robôs seja util pra você.&lt;/p&gt;
&lt;p&gt;Para hospedar esse blog, eu utilizo o &lt;a href=&#34;https://apache.org/&#34;&gt;Apache Webserver&lt;/a&gt;. Nele podemos inserir diretivas de acesso para aceitar ou não o acesso. Há duas maneiras de você configurar isso. Pelo arquivo &lt;a href=&#34;https://httpd.apache.org/docs/2.4/howto/htaccess.html&#34;&gt;.htaccess&lt;/a&gt;, mas a cada requisição ele será carregado e processado, ou diretamente no &lt;a href=&#34;https://httpd.apache.org/docs/2.4/configuring.html&#34;&gt;httpd.conf&lt;/a&gt;, que é o melhor método, pois ele só será carregado no momento que o serviço do Apache subir. Vou utilizar o exemplo do .htaccess, pois a maioria das hospedagens não permitem você acessar o httpd.conf. E de qualquer forma, se você tem estrutura para ter um servidor dedicado ou uma &lt;a href=&#34;https://pt.wikipedia.org/wiki/Servidor_virtual_privado&#34;&gt;VPS&lt;/a&gt;, você terá os conhecimentos para aplicar o que eu fiz com o .htaccess no httpd.conf.&lt;/p&gt;
&lt;p&gt;A primeira parte é bloquear &lt;a href=&#34;https://pt.wikipedia.org/wiki/HTTP_referer&#34;&gt;referers&lt;/a&gt; que são &lt;a href=&#34;https://pt.wikipedia.org/wiki/Spam&#34;&gt;spam&lt;/a&gt;. Há sites que você não vai querer tráfego vindo deles. No meu caso, eu bloqueei quase todas as redes sociais que eu conheço (exceto o Linkedin), pois geralmente, quando alguém está numa rede social e vê um link, no máximo só clica, dá uma olhada e vai embora. E também seu link numa rede social, seu conteúdo vai chegar em várias pessoas que não são o público alvo. Mas se você tem alguma necessidade, só não bloquear.&lt;/p&gt;
&lt;p&gt;Também bloqueei tráfego advindo de Searches Engines, como Google, Bing, Yahoo, etc, pois além deles não favorecerem a indexação de conteúdos não comerciais, eles podem usar seu conteúdo para treinamento de IA. E outra, essa página tem meus contatos, se o Google indexar, algum robô que utiliza o Google para achar sites e contatos, vai ficar me flodando de Spam.&lt;/p&gt;
&lt;p&gt;Agora vamos bloquear tráfego pelo User-Agent. Basicamente, o User-Agent informa com qual navegador o cliente está usando para conectar na sua página. Se for sites estranhos podemos bloquear.&lt;/p&gt;
&lt;p&gt;O arquivo final ficou assim.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;RewriteCond %{HTTP_REFERER} news\.ycombinator\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?google\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bing\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?twitter\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?facebook\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?fb\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov\.br$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?threads\.net [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?instagram\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bsky\.app [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?x\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?reddit\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?forum\.agoraroad.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?kiwifarms\.net [NC]
#RewriteCond %{HTTP_REFERER} ^(.*\.)?linkedin\.com [NC]
RewriteRule .* - [F,L]

# Bloqueia Crawlers,Spiders e IA pelo User Agent

RewriteCond %{HTTP_USER_AGENT} (spyder) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (bot) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (crawler) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scrap) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spy) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (seo) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (wallpaper) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (image) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (copyright) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (check) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spam) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spanner) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scan) [NC]
RewriteRule .* - [F,L]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Esse arquivo bloqueia até redes sociais, mas você pode alterar se desejar.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Valor total do CFe maior que o somatório dos meios de pagamento</title>
      <link>https://thiagosantos.blog/pt/post/rejeicao-1408/</link>
      <pubDate>Thu, 25 Jul 2024 22:56:22 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/rejeicao-1408/</guid>
      <description>&lt;p&gt;Um erro muito comum, que ocorre até mesmo em PDVs de grandes empresas ao emitir nota fiscal é a rejeição 1408. Aqui vamos mostrar o que é, por qual motivo ocorre, e como evitar que isso ocorra.&lt;/p&gt;
&lt;p&gt;O que é esse erro&lt;/p&gt;
&lt;p&gt;De acordo com a documentação oficial da Sefaz, essa é a descrição do erro:&lt;/p&gt;
&lt;p&gt;Quando a soma das formas de pagamento(dinheiro, cheque, cartão,ticket, etc) é menor que o valor da nota, a Sefaz rejeita este cupom. E como ela rejeita, ele fica em contigência até que o mesmo tenha o seu valor editado. Ou seja é um erro de sistema, pois o mesmo deveria prevenir o caixa de enviar uma nota inválida. Ou seja, é um tipo de erro que não deveria acontecer, pois o software consegue barrar. Mas se em seu sistema ocorre esse erro, peça urgente para o suporte corrigir,(ou se você for o prestador de serviço e seu PDV tem esse problema leia até o final) pois ele tem poucas soluções e causa um certo transtorno.&lt;/p&gt;
&lt;p&gt;O que fazer quando isso ocorre?&lt;/p&gt;
&lt;p&gt;O ideal é não acontecer. Mas se você está no meio do movimento e vai tirar um cupom e ele fica em contigência por esse motivo, há duas soluções. Em alguns sistemas, é possível editar os campos da nfe. Então nesse caso, você edita para os meios de pagamento ficarem no mesmo valor e envia a nota. Mas cuidado, pois se você fizer algo errado e enviar a nota terá de cancelar e remarcar tudo de novo. Mas agora, se seu PDVs não permite a edição da nfe,(a grande maioria) você terá de acionar o suporte para eles a editem diretamente no banco de dados.(Imagine a casa cheia, o cliente querendo o cupom e você pendurado no telefone pro suporte emitir o cupom)&lt;/p&gt;
&lt;p&gt;O que fazer para isso não ocorrer?&lt;/p&gt;
&lt;p&gt;Esta é a parte técnica agora. A menos que você seja um programador, uma empresa de software, ou uma pessoa muito curiosa, recomendo você ficar por aqui.&lt;/p&gt;
&lt;p&gt;Um if else&lt;/p&gt;
&lt;p&gt;Começando pelo mais simples, um código que compara os valores lançados e o valor da nota. Se o lançamento for menor que o valor da nota, não envie a nota.&lt;/p&gt;
&lt;p&gt;if(recebimento&amp;lt;valor) return false;&lt;/p&gt;
&lt;p&gt;Armazenando valores monetários corretamente no banco de dados&lt;/p&gt;
&lt;p&gt;Muitos bancos de dados armazenam valores monenários como double ou float. O problema é que esses tipos de dados não armazenam o valor exato, mas sim apenas uma aproximação. Se você tem acesso ao banco de dados de um pdv que armazena valores monetários como float ou double, verá bastante valores quebrados como 2,897676 ou 7,7100001 sendo que só temos duas casas decimais para os centavos. Isso impede do banco ou até mesmo da sua aplicação fazer uma comparação de valores precisas, podendo gerar alguns comportamentos indesejados. Uma nelhor escolha para armazenar valores decimais é o decimal.&lt;/p&gt;
&lt;p&gt;Calculando rateios da forma correta.&lt;/p&gt;
&lt;p&gt;Algumas aplicações permitem o rateio do cupom. Se você fizer uma divisão simples, ocorrerá esse problema, pois irá faltar alguns centavos para chegar. Por exemplo, digamos que seu cliente peça uma bebida que custa R$1,00 e ele quer dividir a nota para 3 pessoas. A aplicação irá dividir o valor em 3, para cada um pagar o mesmo valor. 1 dividido por 3 dá 0,333&amp;hellip;, mas a aplicação irá arredondar para R$0,33 centavos. Cada um pagará os 33 centavos e quando você lançar os pagamentos e emitir a nota fiscal, ocorrerá a contigência. Por quê? Porque R$0,33 vezes 3 não dá R$1,00 mas sim R$0,99. E por causa desse um centavo faltando, sua nota vai ficar travada. Para evitar isso, a sua aplicaçao em vez de fazer o rateio a partir da divisão direta, ela pode seguir esse algoritmo:&lt;/p&gt;
&lt;p&gt;Multiplica o total por cem.&lt;/p&gt;
&lt;p&gt;O valor que der você tira o resto da divisao pela quantidade de rateios.&lt;/p&gt;
&lt;p&gt;Divide o resto da divisao por 100&lt;/p&gt;
&lt;p&gt;Agora você divide o total da conta e soma o resultado com o resto calculado anteriormente. Ou você soma apenas para uma conta, mas o rateio nao terá valores iguais.&lt;/p&gt;
&lt;p&gt;Sendo: T o total da conta e C o número de clientes entao o valor do rateio R será:&lt;/p&gt;
&lt;p&gt;R = ((100T)%C)/100) + (T/C)&lt;/p&gt;
&lt;p&gt;Em uma calculadora científica fica assim:&lt;/p&gt;
&lt;p&gt;((T * 100) mod C) / 100 + (T / C)&lt;/p&gt;
&lt;p&gt;Usando essa fórmula para fazer o rateio cada cliente pagará 0,34 centavos e somando tudo dá R$1,02. Mas se você(ou o seu cliente) achar ruim cobrar dois centavos a mais, a sua aplicação pode, aleatoriamente escolher uma conta e somar o fator ((T * 100) mod C) / 100, uma pessoa pagará alguns centavos a mais, mas o valor pago será exatamente o mesmo. No exemplo da bebida, se você usar esse método, um cliente vai pagar 34 centavos e os outros dois pagarão 33 centavos.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Roteiro Dream Island Girl</title>
      <link>https://thiagosantos.blog/pt/post/roteiro-dream-island-girl/</link>
      <pubDate>Wed, 24 Jul 2024 12:24:42 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/roteiro-dream-island-girl/</guid>
      <description>&lt;p&gt;Entre pesquisas no &lt;a href=&#34;https://web.archive.org/&#34;&gt;Wayback Machine&lt;/a&gt;, encontrei uma &lt;a href=&#34;http://www.asahi-net.or.jp/~hi2h-ikd/film/dreamislandgirl.htm&#34;&gt;página&lt;/a&gt; em Japonês com o roteiro do filme &lt;a href=&#34;https://www.themoviedb.org/movie/671044&#34;&gt;Dream Island Girl&lt;/a&gt;. O traduzi e converti em pdf, pra quem quiser dar uma lida.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://thiagosantos.blog/docs/roteiro-drea-island-girl-pt.pdf&#34;&gt;Roteiro Dream Island Girl(夢の島少女)&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mangá Dream Island Girl</title>
      <link>https://thiagosantos.blog/pt/post/manga-dream-island-girl/</link>
      <pubDate>Thu, 25 Apr 2024 09:48:03 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/manga-dream-island-girl/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://thiagosantos.blog/img/dream_island_girl_capa.jpg&#34; alt=&#34;capa do manga Dream Island Girl&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.themoviedb.org/movie/671044&#34;&gt;Dream Island Girl&lt;/a&gt; é um filme japonês do ano de 1975, no qual eu gosto muito. Entretanto o assunto não é sobre o filme.&lt;/p&gt;
&lt;p&gt;Em 2001 um jovem chamado &lt;a href=&#34;https://www.youtube.com/@yotchin1&#34;&gt;Yoshihiro Aita(相田佳洋)&lt;/a&gt;, fez um &lt;a href=&#34;https://wikipedia.org/wiki/Manga&#34;&gt;mangá&lt;/a&gt; inspirado no filme e postou no seu blog. O mesmo chegou a fazer uma certa fama, pois até a atriz principal, &lt;a href=&#34;https://www2.nhk.or.jp/archives/articles/?id=D0009070171_00000&#34;&gt;Sachiyo Nakao&lt;/a&gt; citou o mangá na &lt;a href=&#34;http://www.utopiano.com/old/f/sachiyo/&#34;&gt;página&lt;/a&gt; dela. O que acontece é que o serviço que hospedava seu &lt;a href=&#34;https://web.archive.org/web/20010629120037/http://www1.odn.ne.jp/aac67070/&#34;&gt;blog&lt;/a&gt; descontinuou o serviço, e o mangá ficou perdido, virou &lt;a href=&#34;https://wikipedia.org/wiki/Lost_media&#34;&gt;Lost Media&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pesquisando sobre o mangá, e seu antigo blog, acabei conseguindo contato com o mesmo via e-mail, e foi muito cortês comigo, e disse que iria verificar se havia o manuscrito guardado em seus arquivos.&lt;/p&gt;
&lt;div class=&#34;iframe&#34;&gt;
    &lt;iframe class=&#34;youtube-player&#34; type=&#34;text/html&#34; src=&#34;https://www.youtube.com/embed/ox-jubELJTM&#34; allowfullscreen frameborder=&#34;0&#34;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
    
    
&lt;p&gt;Quando ele encontrou, ele fez uma versão em inglês e me enviou. Ele tambem permitiu que eu publicasse o mangá, então fiz uma tradução em Português Brasileiro e estarei postando aqui. Vou deixar linkado o vlog do Yoshihiro Aita, pra quem quiser acompanhá-lo.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/@yotchin1&#34;&gt;Youtube Yoshihiro Aita&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/yotchin1976&#34;&gt;X Yoshihiro Aita&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://thiagosantos.blog/docs/dream-island-girl-pt.pdf&#34;&gt;Mangá Dream Island Girl(夢の島少女)&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>