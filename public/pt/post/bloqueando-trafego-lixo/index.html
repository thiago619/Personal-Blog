<!DOCTYPE html>
<html lang="pt">        
        <title>Thiago Santos | Bloqueando bots, IAs, spam e tráfego lixo do seu site</title>
        
        <meta name="generator" content="Humano">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="author" content="Thiago Santos">
        <meta content=nopin name=pinterest>
        <meta content="noindex, nofollow, noai, noimageai" name=googlebot>
        <link href="mailto:contact@thiagosantos.blog" rel=me>
        <link href="https://br.linkedin.com/in/thiago619" rel=me>
        <link href="https://github.com/thiago619" rel=me>
        <meta content="CC BY-NC-SA 4.0" name=usage-rights>
        <link rel="stylesheet" href="/css/style.css">
		<meta charset="UTF-8"><body><header class="container">
    <h1>Thiago Santos</h1>
</header>
<hr><nav class="container">
    <ul>
        <li>
            <a href="/pt/">Home</a>
        </li><li>
                        <a href="/pt/curricullum/">curricullum</a>
                    </li>     
        <li>
                        <a href="/pt/post/">posts</a>
                    </li>     
        <li>
                        <a href="/pt/academic/">acadêmico</a>
                    </li>     
        
            <li>
                <a href="https://thiagosantos.bloggit">git</a>
            </li> 
        
                </ul>
</nav>
    <article class="container">
        <h2>Bloqueando bots, IAs, spam e tráfego lixo do seu site</h2>
        <p><small>postado em: <time datetime="2024-07-24T11:58-03:00">29/07/2024</time></small></p>
        <p><small>escrito por: Thiago Santos</small></p>
            
                
            
                
                    <p><small>tags: 
                        
                        
                            <a href="/pt/tags/tecnologia/">tecnologia</a>
                            
                             | 
                            
                        
                            <a href="/pt/tags/apache/">apache</a>
                            
                             | 
                            
                        
                            <a href="/pt/tags/web/">web</a>
                            
                        
                    </small></p>
                
            <main class="post-conteudo">
            <p>Nem todo tipo de tráfego é legítimo. Muitos <a href="https://wikipedia.org/wiki/Web_scraping">scrappers</a>, robôs, <a href="https://pt.wikipedia.org/wiki/Intelig%C3%AAncia_artificial">IAs</a> entre outros acessam paginas aleatoriamente. Na melhor das hipóteses, eles só vão consumir recursos do seu <a href="https://pt.wikipedia.org/wiki/Servidor">servidor</a>. Mas há tráfegos advindo de aplicações maliciosas que podem replicar seu conteúdo sem autorização, utilizá-lo para treinar IA, ou até mesmo realizar um um <a href="https://pt.wikipedia.org/wiki/Ataque_de_nega%C3%A7%C3%A3o_de_servi%C3%A7o">DOS</a>. Para evitar que isso ocorra, é necessário bloquear acessos indesejados.</p>
<p>Esse manual em forma de tutorial, não é recomendado para você que quer monetizar sua página, ou simplesmente receber cliques. Esse método bloqueia grande parte do acesso não humano, <a href="https://pt.wikipedia.org/wiki/Motor_de_busca">Search Engines</a> e de curiosos. Se o seu objetivo é que apenas humanos interessados no seu conteúdo acessem sua página ok, mas se você quer farmar cliques, usar sua página para redirecionar produtos ou tráfego, talvez apenas a parte de bloquear robôs seja util pra você.</p>
<p>Para hospedar esse blog, eu utilizo o <a href="https://apache.org/">Apache Webserver</a>. Nele podemos inserir diretivas de acesso para aceitar ou não o acesso. Há duas maneiras de você configurar isso. Pelo arquivo <a href="https://httpd.apache.org/docs/2.4/howto/htaccess.html">.htaccess</a>, mas a cada requisição ele será carregado e processado, ou diretamente no <a href="https://httpd.apache.org/docs/2.4/configuring.html">httpd.conf</a>, que é o melhor método, pois ele só será carregado no momento que o serviço do Apache subir. Vou utilizar o exemplo do .htaccess, pois a maioria das hospedagens não permitem você acessar o httpd.conf. E de qualquer forma, se você tem estrutura para ter um servidor dedicado ou uma <a href="https://pt.wikipedia.org/wiki/Servidor_virtual_privado">VPS</a>, você terá os conhecimentos para aplicar o que eu fiz com o .htaccess no httpd.conf.</p>
<p>A primeira parte é bloquear <a href="https://pt.wikipedia.org/wiki/HTTP_referer">referers</a> que são <a href="https://pt.wikipedia.org/wiki/Spam">spam</a>. Há sites que você não vai querer tráfego vindo deles. No meu caso, eu bloqueei quase todas as redes sociais que eu conheço (exceto o Linkedin), pois geralmente, quando alguém está numa rede social e vê um link, no máximo só clica, dá uma olhada e vai embora. E também seu link numa rede social, seu conteúdo vai chegar em várias pessoas que não são o público alvo. Mas se você tem alguma necessidade, só não bloquear.</p>
<p>Também bloqueei tráfego advindo de Searches Engines, como Google, Bing, Yahoo, etc, pois além deles não favorecerem a indexação de conteúdos não comerciais, eles podem usar seu conteúdo para treinamento de IA. E outra, essa página tem meus contatos, se o Google indexar, algum robô que utiliza o Google para achar sites e contatos, vai ficar me flodando de Spam.</p>
<p>Agora vamos bloquear tráfego pelo User-Agent. Basicamente, o User-Agent informa com qual navegador o cliente está usando para conectar na sua página. Se for sites estranhos podemos bloquear.</p>
<p>O arquivo final ficou assim.</p>
<pre><code>RewriteCond %{HTTP_REFERER} news\.ycombinator\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?google\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bing\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?twitter\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?facebook\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?fb\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov\.br$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?threads\.net [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?instagram\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bsky\.app [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?x\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?reddit\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?forum\.agoraroad.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?kiwifarms\.net [NC]
#RewriteCond %{HTTP_REFERER} ^(.*\.)?linkedin\.com [NC]
RewriteRule .* - [F,L]

# Bloqueia Crawlers,Spiders e IA pelo User Agent

RewriteCond %{HTTP_USER_AGENT} (spyder) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (bot) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (crawler) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scrap) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spy) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (seo) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (wallpaper) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (image) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (copyright) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (check) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spam) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spanner) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scan) [NC]
RewriteRule .* - [F,L]
</code></pre>
<p>Esse arquivo bloqueia até redes sociais, mas você pode alterar se desejar.</p>

        </main><section class="next-prev">

    
    <a href="https://thiagosantos.blog/pt/post/rejeicao-1408/">&lt;-anterior</a>
    
| 
    
    
    <a href="https://thiagosantos.blog/pt/post/email-funcionando-normalmente/">próximo -&gt;</a>
    
    </section></article>

    <hr>
<footer  class="container">
    <section class="contato">
        <h2>CONTATO</h2>
        <address>
            <ul>
                <li>e-mail: <a href="mailto:contato@thiagosantos.blog">contato@thiagosantos.blog</a></li>
            </ul>
            
        </address>
    </section>
    <hr>
    <div>
        <ul>
            <li><small>Este site foi testado no <a href="https://brave.com/">Brave</a> e no <a href="https://lynx.invisible-island.net/">Lynx Browser</a></small></li>
            <li><small>Hospedado em um <a href="https://ubuntu.com/download/server">Ubuntu Server</a> com <a href="https://httpd.apache.org/">Apache</a></small></li>
            <li><small>Utilizando <a href="https://gohugo.io/">Hugo</a></small></li>
            <li><small><a href="https://jeffhuang.com/designed_to_last/">Esta página foi projetada para durar</a></small></li>
            <li><small>Este site é perfeitamente exibido em um <a href="https://wikipedia.org/wiki/Nokia_C3-00">Nokia C3</a></small></li>
        </ul>
    </div>
    <div>
        <small> &copy; 2024 <a href="mailto:contato@thiagosantos.blog" rel="author">Thiago Santos</a> sob a licença <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></small>
    </div>
    
</footer></body>
</html>
