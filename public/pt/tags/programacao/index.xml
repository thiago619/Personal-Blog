<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>programação on Thiago Santos</title>
    <link>https://thiagosantos.blog/pt/tags/programacao/</link>
    <description>Recent content in programação on Thiago Santos</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt</language>
    <managingEditor>contato@thiagosantos.blog (Thiago Santos)</managingEditor>
    <webMaster>contato@thiagosantos.blog (Thiago Santos)</webMaster>
    <copyright>Thiago Santos</copyright>
    <lastBuildDate>Tue, 13 Aug 2024 12:20:13 -0300</lastBuildDate><atom:link href="https://thiagosantos.blog/pt/tags/programacao/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Não Consegui Fazer Parte Do Nocss Club</title>
      <link>https://thiagosantos.blog/pt/post/nao-consegui-fazer-parte-do-nocss-club/</link>
      <pubDate>Tue, 13 Aug 2024 12:20:13 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/nao-consegui-fazer-parte-do-nocss-club/</guid>
      <description>&lt;p&gt;Há algum tempo eu estive planejando fazer parte do &lt;a href=&#34;https://nocss.club/&#34;&gt;No CSS Club&lt;/a&gt;. Mas um problema que eu encontrei e não consegui achar uma boa solução, é a &lt;a href=&#34;https://developer.mozilla.org/pt-BR/docs/Learn/CSS/CSS_layout/Responsive_Design&#34;&gt;responsividade&lt;/a&gt; das imagens.&lt;/p&gt;
&lt;p&gt;Sem &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Cascading_Style_Sheets&#34;&gt;CSS&lt;/a&gt; as imagens terão a largura original dela, o que pode estorar a tela. Uma solução(gambiarra) que eu pensei foi utilizar &lt;a href=&#34;https://www.w3.org/TR/html401/&#34;&gt;HTML4&lt;/a&gt;, mas aí minha página perderia um pouco da &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Acessibilidade&#34;&gt;acessibilidade&lt;/a&gt;. Ou também poderia deixar de usar imagens, mas se fizer isso, eu terei alguns posts que deixarão de fazer sentido. Então resolvi por enquanto deixar isso pra lá.&lt;/p&gt;
&lt;p&gt;Esta página já é bastante otimizada. As imagens são comprimidas, não tem &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/JavaScript&#34;&gt;javascript&lt;/a&gt;, é 100% funcional em um &lt;a href=&#34;https://en.wikipedia.org/wiki/Text-based_web_browser&#34;&gt;navegador text-only&lt;/a&gt; e em um &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Leitor_de_tela&#34;&gt;leitor de tela&lt;/a&gt;. Acredito que este site não precisa fazer parte disso. Além do mais, minha página é mais no-css do que muitas que fazem parte do grupo, pois algumas usam e abusam de CSS e javascript, mas quando vão se inscrever, passam o link de apenas uma página do site que não possui CSS. Minha página tem o CSS necessário, se você desativar os estilos, ou visualizá-la no modo texto, não verá diferença. Este site é leve não apenas por ser, mas porque meu objetivo é que ele seja acessível a qualquer pessoa independente da velocidade de internet, tecnologia ou outros. Acho que perder funcionalidade só por causa de uns &lt;a href=&#34;https://pt.m.wikipedia.org/wiki/Kilobyte&#34;&gt;kilobytes&lt;/a&gt; a menos não faz sentido.&lt;/p&gt;
&lt;p&gt;Mas eu não discarto a possibilidade de entrar no grupo, se eu encontrar uma maneira de deixar as imagens responsivas sem CSS, mas por enquanto, vou deixar do jeito que está.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Valor total do CFe maior que o somatório dos meios de pagamento</title>
      <link>https://thiagosantos.blog/pt/post/rejeicao-1408/</link>
      <pubDate>Thu, 25 Jul 2024 22:56:22 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/rejeicao-1408/</guid>
      <description>&lt;p&gt;Um erro muito comum, que ocorre até mesmo em PDVs de grandes empresas ao emitir nota fiscal é a rejeição 1408. Aqui vamos mostrar o que é, por qual motivo ocorre, e como evitar que isso ocorra.&lt;/p&gt;
&lt;p&gt;O que é esse erro&lt;/p&gt;
&lt;p&gt;De acordo com a documentação oficial da Sefaz, essa é a descrição do erro:&lt;/p&gt;
&lt;p&gt;Quando a soma das formas de pagamento(dinheiro, cheque, cartão,ticket, etc) é menor que o valor da nota, a Sefaz rejeita este cupom. E como ela rejeita, ele fica em contigência até que o mesmo tenha o seu valor editado. Ou seja é um erro de sistema, pois o mesmo deveria prevenir o caixa de enviar uma nota inválida. Ou seja, é um tipo de erro que não deveria acontecer, pois o software consegue barrar. Mas se em seu sistema ocorre esse erro, peça urgente para o suporte corrigir,(ou se você for o prestador de serviço e seu PDV tem esse problema leia até o final) pois ele tem poucas soluções e causa um certo transtorno.&lt;/p&gt;
&lt;p&gt;O que fazer quando isso ocorre?&lt;/p&gt;
&lt;p&gt;O ideal é não acontecer. Mas se você está no meio do movimento e vai tirar um cupom e ele fica em contigência por esse motivo, há duas soluções. Em alguns sistemas, é possível editar os campos da nfe. Então nesse caso, você edita para os meios de pagamento ficarem no mesmo valor e envia a nota. Mas cuidado, pois se você fizer algo errado e enviar a nota terá de cancelar e remarcar tudo de novo. Mas agora, se seu PDVs não permite a edição da nfe,(a grande maioria) você terá de acionar o suporte para eles a editem diretamente no banco de dados.(Imagine a casa cheia, o cliente querendo o cupom e você pendurado no telefone pro suporte emitir o cupom)&lt;/p&gt;
&lt;p&gt;O que fazer para isso não ocorrer?&lt;/p&gt;
&lt;p&gt;Esta é a parte técnica agora. A menos que você seja um programador, uma empresa de software, ou uma pessoa muito curiosa, recomendo você ficar por aqui.&lt;/p&gt;
&lt;p&gt;Um if else&lt;/p&gt;
&lt;p&gt;Começando pelo mais simples, um código que compara os valores lançados e o valor da nota. Se o lançamento for menor que o valor da nota, não envie a nota.&lt;/p&gt;
&lt;p&gt;if(recebimento&amp;lt;valor) return false;&lt;/p&gt;
&lt;p&gt;Armazenando valores monetários corretamente no banco de dados&lt;/p&gt;
&lt;p&gt;Muitos bancos de dados armazenam valores monenários como double ou float. O problema é que esses tipos de dados não armazenam o valor exato, mas sim apenas uma aproximação. Se você tem acesso ao banco de dados de um pdv que armazena valores monetários como float ou double, verá bastante valores quebrados como 2,897676 ou 7,7100001 sendo que só temos duas casas decimais para os centavos. Isso impede do banco ou até mesmo da sua aplicação fazer uma comparação de valores precisas, podendo gerar alguns comportamentos indesejados. Uma nelhor escolha para armazenar valores decimais é o decimal.&lt;/p&gt;
&lt;p&gt;Calculando rateios da forma correta.&lt;/p&gt;
&lt;p&gt;Algumas aplicações permitem o rateio do cupom. Se você fizer uma divisão simples, ocorrerá esse problema, pois irá faltar alguns centavos para chegar. Por exemplo, digamos que seu cliente peça uma bebida que custa R$1,00 e ele quer dividir a nota para 3 pessoas. A aplicação irá dividir o valor em 3, para cada um pagar o mesmo valor. 1 dividido por 3 dá 0,333&amp;hellip;, mas a aplicação irá arredondar para R$0,33 centavos. Cada um pagará os 33 centavos e quando você lançar os pagamentos e emitir a nota fiscal, ocorrerá a contigência. Por quê? Porque R$0,33 vezes 3 não dá R$1,00 mas sim R$0,99. E por causa desse um centavo faltando, sua nota vai ficar travada. Para evitar isso, a sua aplicaçao em vez de fazer o rateio a partir da divisão direta, ela pode seguir esse algoritmo:&lt;/p&gt;
&lt;p&gt;Multiplica o total por cem.&lt;/p&gt;
&lt;p&gt;O valor que der você tira o resto da divisao pela quantidade de rateios.&lt;/p&gt;
&lt;p&gt;Divide o resto da divisao por 100&lt;/p&gt;
&lt;p&gt;Agora você divide o total da conta e soma o resultado com o resto calculado anteriormente. Ou você soma apenas para uma conta, mas o rateio nao terá valores iguais.&lt;/p&gt;
&lt;p&gt;Sendo: T o total da conta e C o número de clientes entao o valor do rateio R será:&lt;/p&gt;
&lt;p&gt;R = ((100T)%C)/100) + (T/C)&lt;/p&gt;
&lt;p&gt;Em uma calculadora científica fica assim:&lt;/p&gt;
&lt;p&gt;((T * 100) mod C) / 100 + (T / C)&lt;/p&gt;
&lt;p&gt;Usando essa fórmula para fazer o rateio cada cliente pagará 0,34 centavos e somando tudo dá R$1,02. Mas se você(ou o seu cliente) achar ruim cobrar dois centavos a mais, a sua aplicação pode, aleatoriamente escolher uma conta e somar o fator ((T * 100) mod C) / 100, uma pessoa pagará alguns centavos a mais, mas o valor pago será exatamente o mesmo. No exemplo da bebida, se você usar esse método, um cliente vai pagar 34 centavos e os outros dois pagarão 33 centavos.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>