<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>apache on Thiago Santos</title>
    <link>https://thiagosantos.blog/pt/tags/apache/</link>
    <description>Recent content in apache on Thiago Santos</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>pt</language>
    <managingEditor>contato@thiagosantos.blog (Thiago Santos)</managingEditor>
    <webMaster>contato@thiagosantos.blog (Thiago Santos)</webMaster>
    <copyright>Thiago Santos</copyright>
    <lastBuildDate>Mon, 29 Jul 2024 11:58:25 -0300</lastBuildDate><atom:link href="https://thiagosantos.blog/pt/tags/apache/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Bloqueando bots, IAs, spam e tráfego lixo do seu site</title>
      <link>https://thiagosantos.blog/pt/post/bloqueando-trafego-lixo/</link>
      <pubDate>Mon, 29 Jul 2024 11:58:25 -0300</pubDate>
      <author>contato@thiagosantos.blog (Thiago Santos)</author>
      <guid>https://thiagosantos.blog/pt/post/bloqueando-trafego-lixo/</guid>
      <description>&lt;p&gt;Nem todo tipo de tráfego é legítimo. Muitos &lt;a href=&#34;https://wikipedia.org/wiki/Web_scraping&#34;&gt;scrappers&lt;/a&gt;, robôs, &lt;a href=&#34;https://pt.wikipedia.org/wiki/Intelig%C3%AAncia_artificial&#34;&gt;IAs&lt;/a&gt; entre outros acessam paginas aleatoriamente. Na melhor das hipóteses, eles só vão consumir recursos do seu &lt;a href=&#34;https://pt.wikipedia.org/wiki/Servidor&#34;&gt;servidor&lt;/a&gt;. Mas há tráfegos advindo de aplicações maliciosas que podem replicar seu conteúdo sem autorização, utilizá-lo para treinar IA, ou até mesmo realizar um um &lt;a href=&#34;https://pt.wikipedia.org/wiki/Ataque_de_nega%C3%A7%C3%A3o_de_servi%C3%A7o&#34;&gt;DOS&lt;/a&gt;. Para evitar que isso ocorra, é necessário bloquear acessos indesejados.&lt;/p&gt;
&lt;p&gt;Esse manual em forma de tutorial, não é recomendado para você que quer monetizar sua página, ou simplesmente receber cliques. Esse método bloqueia grande parte do acesso não humano, &lt;a href=&#34;https://pt.wikipedia.org/wiki/Motor_de_busca&#34;&gt;Search Engines&lt;/a&gt; e de curiosos. Se o seu objetivo é que apenas humanos interessados no seu conteúdo acessem sua página ok, mas se você quer farmar cliques, usar sua página para redirecionar produtos ou tráfego, talvez apenas a parte de bloquear robôs seja util pra você.&lt;/p&gt;
&lt;p&gt;Para hospedar esse blog, eu utilizo o &lt;a href=&#34;https://apache.org/&#34;&gt;Apache Webserver&lt;/a&gt;. Nele podemos inserir diretivas de acesso para aceitar ou não o acesso. Há duas maneiras de você configurar isso. Pelo arquivo &lt;a href=&#34;https://httpd.apache.org/docs/2.4/howto/htaccess.html&#34;&gt;.htaccess&lt;/a&gt;, mas a cada requisição ele será carregado e processado, ou diretamente no &lt;a href=&#34;https://httpd.apache.org/docs/2.4/configuring.html&#34;&gt;httpd.conf&lt;/a&gt;, que é o melhor método, pois ele só será carregado no momento que o serviço do Apache subir. Vou utilizar o exemplo do .htaccess, pois a maioria das hospedagens não permitem você acessar o httpd.conf. E de qualquer forma, se você tem estrutura para ter um servidor dedicado ou uma &lt;a href=&#34;https://pt.wikipedia.org/wiki/Servidor_virtual_privado&#34;&gt;VPS&lt;/a&gt;, você terá os conhecimentos para aplicar o que eu fiz com o .htaccess no httpd.conf.&lt;/p&gt;
&lt;p&gt;A primeira parte é bloquear &lt;a href=&#34;https://pt.wikipedia.org/wiki/HTTP_referer&#34;&gt;referers&lt;/a&gt; que são &lt;a href=&#34;https://pt.wikipedia.org/wiki/Spam&#34;&gt;spam&lt;/a&gt;. Há sites que você não vai querer tráfego vindo deles. No meu caso, eu bloqueei quase todas as redes sociais que eu conheço (exceto o Linkedin), pois geralmente, quando alguém está numa rede social e vê um link, no máximo só clica, dá uma olhada e vai embora. E também seu link numa rede social, seu conteúdo vai chegar em várias pessoas que não são o público alvo. Mas se você tem alguma necessidade, só não bloquear.&lt;/p&gt;
&lt;p&gt;Também bloqueei tráfego advindo de Searches Engines, como Google, Bing, Yahoo, etc, pois além deles não favorecerem a indexação de conteúdos não comerciais, eles podem usar seu conteúdo para treinamento de IA. E outra, essa página tem meus contatos, se o Google indexar, algum robô que utiliza o Google para achar sites e contatos, vai ficar me flodando de Spam.&lt;/p&gt;
&lt;p&gt;Agora vamos bloquear tráfego pelo User-Agent. Basicamente, o User-Agent informa com qual navegador o cliente está usando para conectar na sua página. Se for sites estranhos podemos bloquear.&lt;/p&gt;
&lt;p&gt;O arquivo final ficou assim.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;RewriteCond %{HTTP_REFERER} news\.ycombinator\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?google\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bing\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?twitter\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?facebook\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?fb\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?gov\.br$ [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?threads\.net [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?instagram\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?bsky\.app [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?x\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?reddit\.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?forum\.agoraroad.com [NC,OR]
RewriteCond %{HTTP_REFERER} ^(.*\.)?kiwifarms\.net [NC]
#RewriteCond %{HTTP_REFERER} ^(.*\.)?linkedin\.com [NC]
RewriteRule .* - [F,L]

# Bloqueia Crawlers,Spiders e IA pelo User Agent

RewriteCond %{HTTP_USER_AGENT} (spyder) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (bot) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (crawler) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scrap) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spy) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (seo) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (wallpaper) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (image) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (copyright) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (check) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spam) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (spanner) [NC,OR]
RewriteCond %{HTTP_USER_AGENT} (scan) [NC]
RewriteRule .* - [F,L]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Esse arquivo bloqueia até redes sociais, mas você pode alterar se desejar.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>